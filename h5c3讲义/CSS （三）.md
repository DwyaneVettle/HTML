# CSS （三）

## 1.盒子模型

页面布局要学习三大核心, 盒子模型, 浮动 和 定位. 学习好盒子模型能非常好的帮助我们布局页面。



### 1.1.看透网页布局核心

![image-20211122184126007](https://gitee.com/zou_tangrui/note-pic/raw/master/img/202302171647876.png)

**网页布局过程：**

1.  先准备好相关的网页元素，网页元素基本都是盒子 Box ；
2.  利用 CSS 设置好盒子样式，然后摆放到相应位置；
3. 往盒子里面装内容。

网页布局的核心本质： **就是利用 CSS 摆盒子**。



### 1.2.盒子模型(Box Model)组成

所谓 **盒子模型**：就是把 HTML 页面中的布局元素看作是一个矩形的盒子，也就是一个盛装内容的容器。

CSS 盒子模型本质上是一个盒子，封装周围的 HTML 元素，它包括：边框、外边距、内边距、和 实际内容。



![image-20211122184321273](https://gitee.com/zou_tangrui/note-pic/raw/master/img/202302171647877.png)

![image-20211122184335889](https://gitee.com/zou_tangrui/note-pic/raw/master/img/202302171647878.png)

### 1.3.边框(border)

![image-20211122184410302](https://gitee.com/zou_tangrui/note-pic/raw/master/img/202302171647879.png)

border可以设置元素的边框。边框有三部分组成:边框宽度(粗细) 边框样式 边框颜色.

**语法：**

```css
border : border-width || border-style || border-color
```

| 属性         | 作用                 |
| ------------ | -------------------- |
| border-width | 定义边框粗细，单位px |
| border-style | 边框的样式           |
| border-color | 边框的颜色           |

边框样式 border-style 可以设置如下值：

- none：没有边框即忽略所有边框的宽度（默认值）
- solid：边框为单实线(最为常用的)
- dashed：边框为虚线 
- dotted：边框为点线

边框的两种书写方式：

```css
border: 1px solid red; 没有顺序
border-top: 1px solid red; /* 只设定上边框， 其余同理 */
```



### 1.4.表格的细线边框

**border-collapse** 属性控制浏览器绘制表格边框的方式。它控制相邻单元格的边框。

**语法：**

```css
border-collapse:collapse;
```

- collapse 单词是合并的意思
- border-collapse: collapse; 表示相邻边框合并在一起



### 1.5.边框会影响盒子的实际大小

边框会额外增加盒子的实际大小。因此我们有两种方案解决:

1. 测量盒子大小的时候,不量边框；
2. 如果测量的时候包含了边框,则需要 width/height 减去边框宽度。



### 1.6.内边距

**padding** 属性用于设置内边距，即边框与内容之间的距离。

| 属性           | 作用     |
| -------------- | -------- |
| padding-left   | 左内边距 |
| padding-right  | 右内边距 |
| padding-top    | 上内边距 |
| padding-bottom | 下内边距 |

**padding 属性**（简写属性）可以有一到四个值。

| 值的个数                    | 表达含义                                             |
| --------------------------- | ---------------------------------------------------- |
| padding:5px;                | 1个值，代表上下左右都有5px的内边距                   |
| padding:5px 10px;           | 2个值，代表上下内边距位5px,左右内边距为10px          |
| padding:5px 10px 20px;      | 3个值，代表上内边距5px，左右内边距10px，下内边距20px |
| padding:5px 10px 20px 30px; | 4个值，上右下左的顺序-顺时针                         |



**当我们给盒子指定 padding 值之后，发生了 2 件事情：**

1. 内容和边框有了距离，添加了内边距。

2.  padding影响了盒子实际大小。

   也就是说，如果盒子已经有了宽度和高度，此时再指定内边框，会撑大盒子。

**解决方案：**

​	如果保证盒子跟效果图大小保持一致，则让 width/height 减去多出来的内边距大小即可。

![image-20211122192350683](https://gitee.com/zou_tangrui/note-pic/raw/master/img/202302171647880.png)

相关取值:

- 上边框为3像素, 颜色为 #ff8500
- 下边框为1像素 颜色为 #edeef0
- 盒子高度为 41像素, 背景颜色为 #fcfcfc
- 文字颜色为 #4c4c4c



### 1.7.外边距

​	**margin** 属性用于设置外边距，即控制盒子和盒子之间的距离。

| 属性          | 作用     |
| ------------- | -------- |
| margin-left   | 左外边距 |
| margin-right  | 右外边距 |
| margin-top    | 上外边距 |
| margin-bottom | 下外边距 |

margin 简写方式代表的意义跟 padding 完全一致。

**外边距典型应用：**

外边距可以让块级盒子**水平居中**，但是必须满足两个条件：

1. 盒子必须指定了宽度（width）。
2. 盒子左右的外边距都设置为 auto 。 

```css
.header{ width:960px; margin:0 auto;}
```

常见的写法，以下三种都可以：

- margin-left: auto; margin-right: auto;
- margin: auto;
- **margin: 0 auto;**

**注意：**以上方法是让块级元素水平居中，行内元素或者行内块元素水平居中给其父元素添加 text-align:center 即可。



### 1.8.外边距合并

使用 **margin** 定义块元素的垂直外边距时，可能会出现外边距的合并。

主要有两种情况:

1. **相邻块元素垂直外边距的合并**；
2. **嵌套块元素垂直外边距的塌陷**。

#### 1.8.1.**相邻块元素垂直外边距的合并**

​		当上下相邻的两个块元素（兄弟关系）相遇时，如果上面的元素有下外边距 margin-bottom，下面的元素有

上外边距 margin-top ，则他们之间的垂直间距不是 margin-bottom 与 margin-top 之和。取两个值中的

较大者这种现象被称为**相邻块元素垂直外边距的合并**。 

两个相邻盒子之间如果都设置了外边距，如果值相同，只采用一个，如果值不同，采用最大值

![image-20211122192958667](https://gitee.com/zou_tangrui/note-pic/raw/master/img/202302171647882.png)

**解决方案：尽量只给一个盒子添加 margin 值**

#### 1.8.2. **嵌套块元素垂直外边距的塌陷**

对于两个嵌套关系（父子关系）的块元素，父元素有上外边距同时子元素也有上外边距，此时父元素会塌陷较大的外边距值。

![image-20211122193109390](https://gitee.com/zou_tangrui/note-pic/raw/master/img/202302171647883.png)

**解决方案：**

1. 可以为父元素定义上边框。
2. 可以为父元素定义上内边距。 
3. 可以为父元素添加 overflow:hidden。



### 1.9.清除内外边距

网页元素很多都带有默认的内外边距，而且不同浏览器默认的也不一致。因此我们在布局前，首先要清除下网

页元素的内外边距。

```css
* {
     padding:0; /* 清除内边距 */
     margin:0; /* 清除外边距 */
 }
```

**注意：**行内元素为了照顾兼容性，尽量只设置左右内外边距，不要设置上下内外边距。但是转换为块级和行内

块元素就可以了



## 2.圆角边框

在 CSS3 中，新增了圆角边框样式，这样我们的盒子就可以变圆角了。

**border-radius** 属性用于设置元素的外边框圆角。

**语法：**

```css
border-radius:length;
```

- 参数值可以为数值或百分比的形式
- 如果是正方形，想要设置为一个圆，把数值修改为高度或者宽度的一半即可，或者直接写为 50%
- 该属性是一个简写属性，可以跟四个值，分别代表左上角、右上角、右下角、左下角 
- 可以分开写：border-top-left-radius、border-top-right-radius、border-bottom-right-radius 、border-bottom-left-radius



## 3.盒子阴影

CSS3 中新增了盒子阴影，我们可以使用 **box-shadow** 属性为盒子添加阴影。

**语法：**

```css
box-shadow: h-shadow v-shadow blur spread color inset;
```

| 取值     | 描述                         |
| -------- | ---------------------------- |
| h-shadow | 必需，水平阴影，允许负值     |
| v-shadow | 必需，垂直阴影，允许负值     |
| blur     | 可选，模糊边距               |
| spread   | 可选，阴影的尺寸             |
| color    | 可选，阴影的颜色             |
| inset    | 可选，将外部阴影改为内部阴影 |

**注意:**

1. 默认的是外阴影(outset), 但是不可以写这个单词,否则造成阴影无效
2. 盒子阴影不占用空间，不会影响其他盒子排列。



## 4.文字阴影

在 CSS3 中，我们可以使用 **text-shadow** 属性将阴影应用于文本

**语法:**

```css
text-shadow: h-shadow v-shadow blur color;
```

| 取值     | 描述             |
| -------- | ---------------- |
| h-shadow | 必需，水平阴影   |
| v-shadow | 必需，垂直阴影   |
| blur     | 可选，模糊的距离 |
| color    | 可选，阴影的颜色 |







## 5.浮动

​	网页布局的本质——用 CSS 来摆放盒子。 把盒子摆放到相应位置，CSS 提供了三种传统布局方式(简单说,就是盒子如何进行排列顺序)：

- 标准流
- 浮动
- 定位

​	**所谓标准流就是标签按照规定好的方式排列。**如块级元素独占一行，行内元素从左至右排列。

### 5.1.什么是浮动

**float**属性用于创建浮动框，将其移动到一边，直到左边缘或者右边缘触及到另一浮动框的边缘。

**语法：**

```css
选择器 { float: 属性值; }
```

| 属性值 | 描述              |
| ------ | ----------------- |
| none   | 元素不浮动-默认值 |
| left   | 元素向左浮动      |
| right  | 元素向右浮动      |



### 5.2.浮动的特性-重点

加了浮动之后的元素,会具有很多特性,需要我们掌握的.

1. 浮动元素会脱离标准流(脱标)
2. 浮动的元素会一行内显示并且元素顶部对齐
3. 浮动的元素会具有行内块元素的特性.

**设置了浮动（float）的元素最重要特性：**

1. 脱离标准普通流的控制（浮） 移动到指定位置（动）, （俗称脱标）；
2. 浮动的盒子**不再保留原先的位置**
3. 如果多个盒子都设置了浮动，则它们会按照属性值一行内显示，并且顶端对齐排列。
4. 任何元素都可以设置浮动，块级元素和行内元素加浮动效果将具有行内块元素的特点。

### 5.3.浮动元素和父级元素搭配使用

为了约束浮动元素位置, 我们网页布局一般采取的策略是：**先用标准流的父元素排列上下位置, 之后内部子元素采取浮动排列左右位置. 符合网页布局第一准侧**。

![image-20211123105354550](https://gitee.com/zou_tangrui/note-pic/raw/master/img/202302171647884.png)

### 5.4.清除浮动

​	一般情况下浮动元素有一个标准流的父元素，我们在前面的案例中都是给它设置了高度的。但是所有的父盒子必须要有高度吗？---肯定不是，因为父盒子中到底需要装多少个子元素是不确定的，理想中的状态是让子元素去撑开父元素，但是子元素设置了浮动后，子元素的高度就会消失。

​	因此，如果父盒子有高度，我们可以不用考虑清除，但是当父元素没有高度的时候，我们需要清除浮动。

​	清除浮动的本质是清除浮动元素造成的影响，**如果父盒子元素本身有高度，则不需要清除浮动**。

​	**清除浮动后，父级元素会根据设置了浮动的子元素自动检测高度，就不会影响之后排列的标准流了。**

**语法:**

```css
选择器{clear:属性值;}
```

| 属性值 | 描述                 |
| ------ | -------------------- |
| left   | 不允许左侧有浮动     |
| right  | 不允许右侧有浮动     |
| both   | 同时清除左右两侧浮动 |

我们实际工作中， 几乎只用 clear: both;

**清除浮动的方法：**

- 额外标签法-W3C推荐-在浮动元素的末尾添加空标签，例如<div style="clear:both"></div>，或者其他标签br标签等-添加标签必须为块元素

- 父元素添加overflow属性，属性值：hidden,auto或scroll

- 父元素添加after伪元素

  ```css
  .clearfix:after { 
   content: ""; 
   display: block; 
   height: 0; 
   clear: both; 
   visibility: hidden; 
  } 
  .clearfix { /* IE6、7 专有 */ 
   *zoom: 1;
  }
  ```

  

- 父元素添加双伪元素

  ```css
  .clearfix:before,.clearfix:after {
   content:"";
   display:table; 
  }.clearfix:after {
   clear:both; }.clearfix {
   *zoom:1;
  }
  ```

  

## 6.定位

### 5.1.什么是定位

**定位：**将盒子定在某一个位置，所以**定位也是在摆放盒子，** **按照定位的方式移动盒子。**

定位 = 定位模式 + 边偏移 。

定位模式用于指定一个元素在文档中的定位方式。边偏移则决定了该元素的最终位置。



### 5.2.定位模式

定位模式决定元素的定位方式 ，它通过 CSS 的 **position** 属性来设置，其值可以分为四个：



| 值       | 语义     |
| -------- | -------- |
| static   | 静态定位 |
| relative | 相对定位 |
| absolute | 绝对定位 |
| fixed    | 固定定位 |



### 5.3.边偏移

边偏移就是定位的盒子移动到最终位置。有 top、bottom、left 和 right 4 个属性。

| 边偏移属性 | 示例        | 描述                                         |
| ---------- | ----------- | -------------------------------------------- |
| top        | top:80px;   | 顶端偏移量，定义元素相对父元素上边线的距离   |
| bottom     | bottom:80px | 底部偏移量，定义元素相对父元素下边线的距离   |
| left       | left:80px   | 左边偏移量，定义元素相对父元素左边线的距离   |
| right      | right:80px  | 右边偏移量，定义元素相对父级元素右边线的距离 |



### 5.4.静态定位

静态定位是元素的**默认定位方式，无定位的意思**。

**语法：**

```css
选择器 { position: static; }
```

- 静态定位按照标准流特性摆放位置，它没有边偏移
- 静态定位在布局时很少用到



### 5.5.相对定位

**相对定位**是元素在移动位置的时候，是**相对于它原来的位置来说的**。

**语法：**

```css
选择器 { position: relative; }
```

相对定位的特点：（务必记住）

1. 它是相对于自己原来的位置来移动的（移动位置的时候参照点是自己原来的位置）。
2. 原来在标准流的位置继续占有，后面的盒子仍然以标准流的方式对待它。

因此，相对定位并没有脱标。它最典型的应用是给绝对定位当爹的。。。

### 5.6.绝对定位

**绝对定位**是元素在移动位置的时候，是相对于它祖先元素来说的。

**语法：**

```css
选择器 { position: absolute; }
```

绝对定位的特点：（务必记住）

1. 如果没有祖先元素或者祖先元素没有定位，则以浏览器为准定位（Document 文档）。
2. 如果祖先元素有定位（相对、绝对、固定定位），则以最近一级的有定位祖先元素为参考点移动位置。
3. 绝对定位不再占有原先的位置。（脱标）

所以绝对定位是脱离标准流的。



### 5.7.子绝父相

**子级是绝对定位的话，父级要用相对定位。**

- 子级绝对定位，不会占有位置，可以放到父盒子里面的任何一个地方，不会影响其他的兄弟盒子。
- 父盒子需要加定位限制子盒子在父盒子内显示。
- 父盒子布局时，需要占有位置，因此父亲只能是相对定位。 

所以，**相对定位经常用来作为绝对定位的父级**。

总结：**因为父级需要占有位置，因此是相对定位， 子盒子不需要占有位置，则是绝对定位**。



### 5.8.固定定位

**固定定位**是元素固定于浏览器可视区的位置。主要使用场景： 可以在浏览器页面滚动时元素的位置不会改变。

**语法：**

```css
选择器 { position: fixed; }
```

固定定位的特点：（务必记住）

1. 以浏览器的可视窗口为参照点移动元素。
   - 跟父元素没有任何关系
   - 不随滚动条滚动
2. 固定定位不在占有原先的位置。

固定定位也是脱标的，其实固定定位也可以看做是一种特殊的绝对定位。



### 5.9.定位的叠放次序

在使用定位布局时，可能会出现盒子重叠的情况。此时，可以使用 z-index 来控制盒子的前后次序 (z轴) 

**语法：**

```css
选择器 { z-index: 1; }
```

- 数值可以是正整数、负整数或 0, 默认是 auto，数值越大，盒子越靠上
- 如果属性值相同，则按照书写顺序，后来居上
- 数字后面不能加单位
- 只有定位的盒子才有 z-index 属性



### 5.10.粘性定位sticky-了解

​	相对定位和固定定位的混合，必须添加top,right,left,bottom中的一个才有效。

```shell
<head>
	<style>
        body {
            height: 3000px;
        }
        .nav {
            /* 粘性定位 */
            position: sticky;
            top: 0;
            width: 800px;
            height: 50px;
            background-color: pink;
            margin: 100px auto;
        }
    </style>
</head>
<body>
    <div class="nav">我是导航栏</div>
</body>
```

