<!DOCTYPE html>
<html lang='en'>
<head>
    <meta charset='UTF-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <title>vue模板</title>
    <!-- ����vue -->
    <script src='../js/vue.js'></script>
</head>
<body>
       <!-- 
        监视属性watch：
            1.当被监视的属性变化时, 回调函数自动调用, 进行相关操作
            2.监视的属性必须存在，才能进行监视！！
            3.监视的两种写法：
                (1).new Vue时传入watch配置
                (2).通过vm.$watch监视
        -->
        <div id='root'>
            <h3 id="demo">今天天气很{{info}}</h3>
            <button @click="changeWeather()">切换天气</button>
        </div>
        <script>
                
                Vue.config.productionTip = false;
                
                var vm = new Vue({
                        el: '#root',
                        data: {
                            // info:"凉爽"
                            isHot: true
                        },
                        computed : {
                                info() {
                                    return this.isHot ? "炎热" : "凉爽"
                                }
                        },
                        methods: {
                            changeWeather() {
                                // document.getElementById("demo").innerText = "今天天气很炎热"
                                this.isHot = !this.isHot
                            }
                        },
                        // watch-监听器,用于监视数据的变化
                        // watch: {
                        //     // 监视哪个属性就配置哪个属性
                        //     isHot: {
                        //         // 当数据发生变化时，调用handler()
                        //         // immediate表示初始化页面时，立即执行该属性
                        //         immediate:true,
                        //         /* 
                        //             1.newValue：数据发生变化后的新值
                        //             2.oldValue：数据发生变化前的旧值
                        //         */
                        //         handler(newValue,oldValue) {
                        //             console.log(newValue,oldValue);
                        //         }
                        //     }
                        // }
                        // 简写--》computed
                        // 将监视的属性直接作为方法名来监视
                        watch:{
                            isHot(newValue,oldValue) {
                                if(newValue == true) {
                                    alert("今天炎热，少穿衣服")
                                }
                            }
                        }
                })
                // vm.$watch("isHot",{
                //     immediate:true,
                //     handler(newValue,oldValue) {
                //         console.log(newValue,oldValue);
                //     }
                // })
        </script>
</body>
</html>